allprojects {
    group = 'com.personal'
    version = '0.0.1'
}

defaultTasks 'buildFrontend',
        'backend:clean',
        'backend:build',
        'bootrun'

task buildFrontend {
    dependsOn 'frontend:clean'
//    dependsOn 'frontend:npm_run_test'
    dependsOn 'frontend:npm_run_build'
    dependsOn 'frontend:webjar'
}

task buildBackend {
    'backend:clean'
    'backend:build'
    'bootrun'
}

task stage {
    dependsOn 'buildFrontend'
    dependsOn 'backend:clean'
    dependsOn 'backend:build'
}